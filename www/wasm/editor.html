<!DOCTYPE html>
<!--

This is the test file  for  SWI-Prolog   WebAssembly  build.  It must be
served through a web server. An example server is provided by server.pl.
To use it, build the wasm version   in  e.g., `build.wasm` and from this
directory, run

    swipl ../src/wasm/server.pl

and browse to http://localhost:8080/
-->

<html>

<body>

<script src="swipl-bundle.js"></script>

  <script>
  let Prolog;
const Module = {
  // Provide options for customization
  on_output: console.info,
};

SWIPL(Module).then((module) =>
{ Prolog = Module.prolog;

  // Start using Prolog
    Prolog.load_string("loves(ass, mia).\nloves(asts, mia).", "a1.pl");
    Prolog.load_string("loves(ass, mia).\nloves(asts, mia).", "a1.pl");

Prolog.call("leash(-all).");
//Prolog.call("trace.");

let q = Prolog.query("loves(I,O)");
do{
	r = q.next();
	console.log(r);
}while(!r.done);
q.close();

});
  
  </script>
</body>
</html>
